@if (error()) {
  <app-error-modal
    [title]="'Something went wrong'" [message]="error()"
    role="alertdialog" aria-modal="true"
    [attr.aria-labelledby]="'error-modal-title'"
    [attr.aria-describedby]="'error-modal-message'" />
}

<div class="mf-angular-19-remote-theme">
  <header>
    <app-header></app-header>
  </header>
  <main tabindex="-1" id="main-content">
    <h1 class="mf-angular-19-remote-theme__fallback">
      Select a lesson to see their tasks, but be aware because you have a 3% chance of a cursed guard blocking your way:
    </h1>
    <nav aria-label="Lessons">
      <ul class="mf-angular-19-remote-theme__users">
        @for (lesson of lessons; track lesson.id) {
          <li>
            <app-lesson
              [lesson]="lesson"
              [selected]="lesson.id === selectedLessonId"
              (select)="onSelectLesson($event)"
              [attr.tabindex]="0"
              [attr.aria-selected]="lesson.id === selectedLessonId"
              [attr.role]="'option'">
            </app-lesson>
          </li>
        }
      </ul>
    </nav>
    <section class="mf-angular-19-remote-theme__lessons-tasks" aria-live="polite">
      @if (selectedLesson) {
        <router-outlet />
      }
    </section>
  </main>
</div>

